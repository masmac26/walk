<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Journal</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>📖 Journal</h1>

  <form id="journalForm">
    <!-- Feeling today -->
    <label for="feeling">Hi! How are you feeling today? (1–10)</label><br>
    <input type="number" id="feeling" name="feeling" min="1" max="10" required><br><br>

    <!-- Weather -->
    <label for="weather">What does the weather feel like?</label><br>
    <input type="number" id="temp" name="temp" placeholder="Temp"> °F<br><br>

    <div id="weatherOptions">
      <label><input type="radio" name="weather" value="☀️"> ☀️</label>
      <label><input type="radio" name="weather" value="🌤️"> 🌤️</label>
      <label><input type="radio" name="weather" value="☁️"> ☁️</label>
      <label><input type="radio" name="weather" value="🌧️"> 🌧️</label>
      <label><input type="radio" name="weather" value="⛈️"> ⛈️</label>
    </div><br>
    <!-- Location -->
    <label for="location">Where did you walk today?</label><br>
    <input type="text" id="location" name="location" placeholder="e.g. neighborhood, park, campus"><br><br>

    <!-- Thoughts -->
    <label for="thoughts">What else is on your mind?</label><br>
    <textarea id="thoughts" name="thoughts" rows="4" cols="30"></textarea><br><br>

    <button type="submit">Save Entry</button>
  </form>

  <h2>🗂️ Previous Entries</h2>
  <div id="entries"></div>

  <!-- Bottom nav -->
  <div class="navbar">
    <a href="index.html">🏠 Home</a>
    <a href="journal.html" class="active">📖 Journal</a>
    <a href="settings.html">⚙️ Settings</a>
  </div>

  <script>
    const form = document.getElementById("journalForm");
    const entriesDiv = document.getElementById("entries");

    // Load saved entries on page load
    window.onload = function() {
      let entries = JSON.parse(localStorage.getItem("journalEntries")) || [];
      displayEntries(entries);
    };

    // Handle form submission
    form.addEventListener("submit", function(e) {
      e.preventDefault();

      let feeling = document.getElementById("feeling").value;
      let temp = document.getElementById("temp").value;
      let weather = document.querySelector("input[name='weather']:checked")?.value || "";
      let location = document.getElementbyID("location").value;
      let thoughts = document.getElementById("thoughts").value;

      let entry = {
        date: new Date().toLocaleString(),
        feeling,
        temp,
        weather,
        location,
        thoughts
      };

      // Save to localStorage
      let entries = JSON.parse(localStorage.getItem("journalEntries")) || [];
      entries.unshift(entry); // newest first
      localStorage.setItem("journalEntries", JSON.stringify(entries));

      // Reset form
      form.reset();

      // Update display
      displayEntries(entries);
    });

    // Display entries
    function displayEntries(entries) {
      entriesDiv.innerHTML = "";
      entries.forEach(entry => {
        let card = document.createElement("div");
        card.style.border = "1px solid #ccc";
        card.style.borderRadius = "8px";
        card.style.padding = "10px";
        card.style.margin = "10px 0";
        card.style.background = "#030021";

        card.innerHTML = `
          <strong>${entry.date}</strong><br>
          Feeling: ${entry.feeling}/10<br>
          Weather: ${entry.temp}°F ${entry.weather}<br>
          Walked at: ${entry.location}<br>
          Thoughts: ${entry.thoughts}
        `;
        entriesDiv.appendChild(card);
      });
    }
  </script>
  <script>
  // Apply saved theme on page load
  window.onload = function() {
    let theme = localStorage.getItem("theme") || "default";
    applyTheme(theme);
  };

  function applyTheme(theme) {
    let body = document.body;

    if (theme === "default") {
      body.style.backgroundColor = "#425af5";
      body.style.color = "#ffffff";
    } else if (theme === "dark") {
      body.style.backgroundColor = "#000000";
      body.style.color = "#ffffff";
    } else if (theme === "garnetGold") {
      body.style.backgroundColor = "#782F40";
      body.style.color = "#CEB888";
    } else if (theme === "purple") {
      body.style.backgroundColor = "#440b5c";
      body.style.color = "#000000";
    }
  }
</script>

</body>
</html>
